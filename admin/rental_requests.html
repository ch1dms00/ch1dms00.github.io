<body>
    <h2>대여 신청 내역</h2>
    <div id="requestList"></div>
  
    <script>
      async function loadRequests() {
        const res = await fetch('/api/rental-requests');
        const data = await res.json();
        const container = document.getElementById('requestList');
        container.innerHTML = '';
  
        data.forEach(req => {
          const div = document.createElement('div');
          div.setAttribute('id', `request-${req.id}`);
          div.innerHTML = `
            <p><strong>${req.name}</strong> - ${req.item} (${req.date}) [${req.status}]</p>
            <button onclick="confirmRequest('${req.id}')">확정</button>
            <button onclick="cancelRequest('${req.id}')">취소</button>
          `;
          container.appendChild(div);
        });
      }
  
      async function confirmRequest(id) {
        await fetch(`/api/rental-requests/${id}/confirm`, { method: 'POST' });
        document.querySelector(`#request-${id} p`).innerText += ' → 확정됨';
      }
  
      async function cancelRequest(id) {
        await fetch(`/api/rental-requests/${id}/cancel`, { method: 'POST' });
        document.querySelector(`#request-${id} p`).innerText += ' → 취소됨';
      }
  
      loadRequests();
    </script>
  </body>
  
